var localStorageEnable=function(){try{return!!window.localStorage}catch(e){return!1}}(),midKey="____guid",utilM2={getParams:function(e){var e=e||window.location.href.replace(/#.*$/,""),t=e.indexOf("?"),n,r,i;if(t==-1)return{};i=e.substring(t+1).split("&"),n={};for(var s=0,o=i.length;s<o;s++){r=i[s].split("=");if(typeof r[1]=="undefined")continue;r[0]&&(n[r[0]]=r[1])}return n},uniqueId:function(){var e=+(new Date)+"-",t=0;return function(){return e+ ++t}}(),send:function(e,t){var n=this.uniqueId(),r=window.imageLogData||(window.imageLogData={}),i=r[n]=new Image;i.onerror=i.onload=function(){t&&t(),i.onerror=i.onload=null,i=null,delete r[n]},i.src=e+"&_="+n},record:function(e,t,n){var r=this;r.logParamsM2=r.get();var i={u:location.href.replace(/[?#].*$/,""),ver:"",mid:r.logParamsM2,cid:1,from:1,act:n||"start",sid:e||"",market_id:"",pos:t||"",tj:"",refer:""};r.send("http://s.360.cn/zhushou/soft.html?"+$.param(i))},setCookie:function(e,t,n,r){r=r||{};var i=parseFloat(n)||365,s=new Date;s.setTime(s.getTime()+i*864e5),cookieVal=e+"="+escape(t)+";expires="+s.toGMTString(),cookieVal+=r.domain?";domain="+r.domain:"",cookieVal+=r.path?";path="+r.path:"",cookieVal+=r.secure?";secure="+r.secure:"",document.cookie=cookieVal},getCookie:function(e){if(document.cookie.length>0){c_start=document.cookie.indexOf(e+"=");if(c_start!=-1)return c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))}return""},initUa:function(){return this.ua||(this.ua=window.navigator?navigator.userAgent.toLowerCase():""),this.ua},is_weixin:function(){return this.initUa(),this.ua.match(/MicroMessenger/i)=="micromessenger"},is_iphone:function(){return this.initUa(),/iphone|mac|ipad/i.test(this.ua)&&!/android/i.test(this.ua)},get:function(){return this.logParamsM2||localStorageEnable&&window.localStorage[midKey]||this.getCookie(midKey)||this.generateMID()},_save:function(e){localStorageEnable?window.localStorage[midKey]=e:this.setCookie(midKey,e,null,{path:"/"}),this.logParamsM2=e},getData:function(e){return localStorageEnable?window.localStorage[e]||"":this.getCookie(e)||""},saveData:function(e,t){localStorageEnable?window.localStorage[e]=t:this.setCookie(e,t,null)},showMessage:function(e){api.toast({msg:e,duration:2e3,location:"bottom"})},generateMID:function(){function e(e){var t=0,n=0,r=e.length-1;for(r;r>=0;r--){var i=parseInt(e.charCodeAt(r),10);t=(t<<6&268435455)+i+(i<<14),(n=t&266338304)!=0&&(t^=n>>21)}return t}function t(){var t=[i.appName,i.version,i.language||i.browserLanguage,i.platform,i.userAgent,s.width,"x",s.height,s.colorDepth,r.referrer].join(""),n=t.length,o=window.history.length;while(o)t+=o--^n++;return(Math.round(Math.random()*2147483647)^e(t))*2147483647}var n=midKey,r=document,i=navigator,s=window.screen,o=r.domain.toLowerCase(),u=i.userAgent.toLowerCase(),a;return a=[e(r.domain),t(),+(new Date)+Math.random()+Math.random()].join(""),a=a.replace(/\./ig,"e"),a=a.substr(0,32),this._save(a),a},noop:function(){}};